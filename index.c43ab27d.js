function n(n){const e=function(n){return null!==n&&""!==n&&n.replace(/<[^>]+>/g,"")}(n).split(" ");return e.filter((n=>""!==n.trim())).length}const e={blockClassName:"read-smore",wordsCount:30,charsCount:null,moreText:"Read More",lessText:"Read Less",isInline:!1,linkElement:"a"};(function(t,r){r=Object.assign({},e,r);let a={originalContentArr:[],truncatedContentArr:[]};function s(n){return void 0!==n.dataset.readSmoreChars||null!==r.charsCount}function i(e,i){const c=function(n){return void 0!==n.dataset.readSmoreChars?parseInt(n.dataset.readSmoreChars):null!==r.charsCount?parseInt(r.charsCount):void 0!==n.dataset.readSmoreWords?parseInt(n.dataset.readSmoreWords):null!==r.wordsCount?parseInt(r.wordsCount):void 0}(e),d=e.innerHTML,u=function(n,e,t=!1){const r=function(n){return n.replace(/(^\s*)|(\s*$)/gi,"")}(n);return t?r.split("").slice(0,e-1).join("")+"...":r.split(/\s+/).slice(0,e-1).join(" ")+"..."}(d,c,s(e)),m=s(e)?d.length:n(d);if(a.originalContentArr.push(d),a.truncatedContentArr.push(u),c<m){e.innerHTML=a.truncatedContentArr[i],function(n){const e=function(n){return void 0!==n.dataset.readSmoreInline||!0===r.isInline}(t[n]),a=document.createElement("span");a.className=`${r.blockClassName}__link-wrap`,a.innerHTML=function(n){return`\n      <${r.linkElement} id="${r.blockClassName}_${n}"\n        class="${r.blockClassName}__link"\n        style="cursor:pointer"\n        aria-expanded="false"\n        tabIndex="0">\n          ${r.moreText}\n      </${r.linkElement}>\n    `}(n),e&&o(t[n],a);t[n].after(a),function(n,e){const t=document.querySelector(`#${r.blockClassName}_${n}`);t.addEventListener("click",(t=>l(t,n,e))),t.addEventListener("keyup",(t=>{13===t.keyCode&&"a"===r.linkElement&&l(t,n,e)}))}(n,e)}(i)}}function l(n,e,s){t[e].classList.toggle("is-expanded");const i=n.currentTarget;"true"!==i.dataset.clicked?(t[e].innerHTML=a.originalContentArr[e],i.innerHTML=r.lessText,i.dataset.clicked=!0,i.ariaExpanded=!0,s&&o(t[e])):(t[e].innerHTML=a.truncatedContentArr[e],i.innerHTML=r.moreText,i.dataset.clicked=!1,i.ariaExpanded=!1,s&&o(t[e]))}function o(n,e){n&&(n.lastElementChild.style.display="inline",n.style.display="inline"),e&&(e.style.display="inline")}return{init:function(){for(let n=0,e=t.length;n<e;++n)i(t[n],n)}}})(document.querySelectorAll(".js-read-smore")).init();
//# sourceMappingURL=index.c43ab27d.js.map
